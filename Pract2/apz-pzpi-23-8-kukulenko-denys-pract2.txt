 
МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ 
 
 
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ 
УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ 
 
Кафедра «Програмна інженерія» 
 
 
 
 
ЗВІТ 
з практичної роботи №2 
з дисципліни «Аналіз та рефакторинг коду» 
на тему «Методи рефакторингу коду програмного забезпечення за стандартами
Java Code Conventions ((Split Temporary Variable, Remove Assignments to Parameters, Replace Method with Method Object))»

 
 
 
 
 
 
 
Виконав:                                                                            Прийняв: 
ст. гр. ПЗПІ-23-8                                                               Старший викладач каф. ПІ Кукуленко Д. В.                                                                Сокорчук І. П. 
 
 
 
 
Харків 2025 
 
1 Мета роботи 
Ознайомитися з основними методами рефакторингу коду на мові Java (Split Temporary Variable, Remove Assignments to Parameters, Replace Method with Method Object), розкрити їх значення для підвищення якості, надійності та підтримуваності програмних продуктів, а також сформувати навички їх практичного застосування. 

2 Історія змін 
№ 	Дата 	Версія звіту 	Опис змін та виправлень 
1 	30.10.2025 	v. 1.1 	Створено розділ «Мета роботи» 
2 	30.10.2025 	v. 1.1 	Створено розділ «Історія змін» 
3 	30.10.2025 	v. 1.1 	Створено розділ «Хід роботи» 
4 	30.10.2025 	v. 1.1 	Створено розділ «Висновки» 
5 	305.10.2025 	v. 1.1 	Створено розділ «Використані джерела» 
6 	30.10.2025 	v. 1.1 	Створено додаток А 
7 	30.10.2025 	v. 1.1 	Створено додаток Б 
 
3 Хід роботи 
Вступ 
У цьому розділі розглянуто сутність поняття рефакторингу як невід'ємної частини процесу розробки програмного забезпечення.

Рефакторинг не змінює результат роботи програми, але суттєво впливає на її якість — підвищує зручність читання, зменшує дублювання коду, допомагає уникнути помилок та спрощує командну взаємодію між розробниками.

Під час виконання роботи акцент зроблено на трьох ключових методах рефакторингу, застосованих до мови Java:

•	Split Temporary Variable — розділення тимчасових змінних, які використовуються для зберігання різних проміжних результатів, на окремі, більш інформативні змінні;

•	Remove Assignments to Parameters — усунення присвоєнь нових значень вхідним параметрам функції, що забезпечує незмінність вхідних даних;

•	Replace Method with Method Object — заміна надто довгого або складного методу, що містить багато локальних змінних, на окремий клас-об'єкт, для кращої організації логіки.

Кожен із цих методів підвищує якість програмного продукту, роблячи код чистішим, гнучкішим і більш передбачуваним. 

 
Метод «Split Temporary Variable»
Цей метод використовується, коли тимчасова змінна в межах одного методу використовується для зберігання різних проміжних результатів обчислень. Розділення такої змінної на кілька окремих, з унікальними та описовими назвами, значно покращує читабельність та самодокументованість коду. 
 
Приклад коду до рефакторингу: 
1	public double calculateFinalCost(double price, double taxRate) {
2	    double temp = price * (1 + taxRate); 
3	    System.out.println("Cost before discount: " + temp);
4	
5	    if (temp > 500) {
6	        temp = temp - 50.0;
7	    }
8	    return temp;
9	} 
У цьому прикладі використовується . перевикористання тимчасової змінної (temp). Це робить код менш зрозумілим, ускладнює його читання та підтримку, що є прямою протилежністю меті рефакторингу 
 
Після рефакторингу: 
1	public double calculateFinalCost(double price, double taxRate) {
2	    double costWithTax = price * (1 + taxRate); 
3	    System.out.println("Cost before discount:"+ costWithTax);
4	
5	    double finalCost = costWithTax;
6	    if (finalCost > 500) {
7	        finalCost = finalCost - 50.0;
8	    }
9	    return finalCost;
10	} 
Тепер Кожна логічна операція тепер має власну змінну (costWithTax, finalCost), що робить кроки обчислення однозначними та зрозумілими. 
 
Метод «Remove Assignments to Parameters»
Метод усуває практику присвоєння нових значень вхідним параметрам функції. Параметри повинні розглядатися лише як вхідні дані. Зміна їхніх значень ускладнює розуміння того, яке значення використовується в певний момент, а також унеможливлює використання модифікатора final у Java.
 
Приклад коду до рефакторингу: 
1	public double applyDiscount(double netPrice, double rate) {
2	    if (netPrice > 1000) {
3	        rate = 0.15; 
4	    }
5	    
6	    netPrice = netPrice * (1 - rate); 
7	    return netPrice;
8	} 
Наведений фрагмент коду демонструє антипатерн, відомий як присвоєння нових значень вхідним параметрам, який ускладнює читання та підтримку методу, а також порушує принцип незмінності вхідних даних. 
 
Після рефакторингу: 
1	public double applyDiscount(final double netPrice, final double rate) {
2	    double actualRate = rate; 
3	    
4	    if (netPrice > 1000) {
5	        actualRate = 0.15; 
6	    }
7	
8	    return netPrice * (1 - actualRate);
9	} 
Тепер Параметри netPrice та rate залишаються незмінними, а вся логіка обчислення знижки перенесена у нову, більш чітку локальну змінну actualRate. 
 
Метод «Replace Method with Method Object» 
Цей метод використовується, коли функція стає занадто довгою або складною і має багато локальних змінних, які тісно пов'язані з її логікою. Рефакторинг полягає у створенні окремого класу, в який переноситься вся логіка та локальні змінні оригінального методу. 
 
Приклад коду до рефакторингу: 
1	public class Employee {
2	    public double calculateAnnualPay(int daysWorked, double hourlyRate, double bonusFactor) {
3	        double monthlySalary = daysWorked * hourlyRate * 20.0; 
4	        double taxAmount = monthlySalary * 0.25; 
5	        double netSalary = monthlySalary - taxAmount;
6	        double annualBonus = netSalary * bonusFactor * 12; 
7	        double finalPay = netSalary * 12 + annualBonus;
8	        return finalPay;
9	    }
10	} 

Наведений метод calculateAnnualPay є класичним прикладом надто довгого та складного методу, який містить багато кроків обчислень і проміжних змінних. Це ускладнює його розуміння, модифікацію та тестування.

Після рефакторингу: 
1	// Крок 1: Створення класу Method Objec
2	class AnnualPayCalculator {
3	    private final int daysWorked;
4	    private final double hourlyRate;
5	    private final double bonusFactor;
6	    
7	    private double monthlySalary; 
8	    private double netSalary; 
9	
10	    public AnnualPayCalculator(int daysWorked, double hourlyRate, double bonusFactor) {
11	        this.daysWorked = daysWorked;
12	        this.hourlyRate = hourlyRate;
13	        this.bonusFactor = bonusFactor;
14	    }
15	
16	    public double compute() {
17	        calculateMonthlySalary();
18	        calculateNetSalary();
19	        
20	        double annualBonus = netSalary * bonusFactor * 12; 
21	        double finalPay = netSalary * 12 + annualBonus;
22	        return finalPay;
23	    }
24	    
25	    private void calculateMonthlySalary() {
26	        this.monthlySalary = daysWorked * hourlyRate * 20.0; 
27	    }
28	    
29	    private void calculateNetSalary() {
30	        double taxAmount = monthlySalary * 0.25; 
31	        this.netSalary = monthlySalary - taxAmount;
32	    }
33	}
34	// Крок 2: Заміна оригінального методу викликом об'єкта
35	public class Employee {
36	    public double calculateAnnualPay(int daysWorked, double hourlyRate, double bonusFactor) {
37	        return new AnnualPayCalculator(daysWorked, hourlyRate, bonusFactor).compute();
38	    }
39	}
Оригінальний метод став чистим, делегуючи складну логіку новому об'єкту. Це дозволяє легше розділити і тестувати кроки обчислення всередині AnnualPayCalculator. 
 
Приклад комплексного рефакторингу 
У 	цьому прикладі продемонстровано комбіноване застосування методів Split Temporary Variable та Remove Assignments to Parameters для покращення якості коду, який обчислює фінальну ціну товару з урахуванням податку та знижки. 

 
Оригінальний код: 
1	public double calculatePrice(double basePrice, double taxRate, double rate) {
2	    if (basePrice > 500) {
3	        rate = 0.10; 
4	    }
5	
6	    double temp = basePrice * (1 + taxRate);
7	
8	    temp = temp - (temp * rate); 
9	    
10	    return temp;
11	} 
Після рефакторингу: 
1	public double calculatePrice(final double basePrice, final double taxRate, double initialRate) {
2	    double actualRate = initialRate; 
3	    if (basePrice > 500) {
4	        actualRate = 0.10; 
5	    }
6	
7	    double priceWithTax = basePrice * (1 + taxRate); 
8	
9	    double finalPrice = priceWithTax - (priceWithTax * actualRate);
10	    
11	    return finalPrice;
12	} 
Перший метод рефакторингу Remove Assignments to Parameters тут застосовано для того, щоб зберегти незмінність вхідних даних. Вхідний параметр initialRate більше не змінюється всередині методу. Натомість, створена нова локальна змінна actualRate, яка містить фінальну ставку для обчислень. Такий підхід усуває двозначність, дозволяє вхідним параметрам виконувати лише свою функцію та робить метод безпечнішим для модифікації.
Інший метод Split Temporary Variable застосовано для усунення двозначності та підвищення читабельності коду. Тимчасова змінна temp, яка використовувалася для двох різних проміжних обчислень, замінена на дві змінні з описовими назвами: priceWithTax та finalPrice. Це гарантує, що кожна змінна відповідає лише за одне логічне значення. В результаті, кожний крок обчислення стає самодокументованим, і логіку набагато простіше відстежувати
 
Покрокова демонстрація процесу рефакторингу 
Процес рефакторингу є структурованим і виконується у кілька логічних етапів, що дозволяє мінімізувати ризик внесення помилок.

Насамперед, відбувається визначення проблемної ділянки коду — виявлення так званих "запахів коду" . Це може бути довгий метод, перевикористання тимчасових змінних або зміна вхідних параметрів. Після ідентифікації проблеми необхідно здійснити вибір найбільш доречного методу рефакторингу. Наприклад, виявлення надто складного методу з багатьма локальними змінними вимагає застосування Replace Method with Method Object, тоді як перевикористання змінної — Split Temporary Variable.

Далі, перед внесенням фактичних змін, критично важливим є аналіз впливу змін на загальну логіку програми. На цьому етапі обов'язково використовується наявна база автоматизованих тестів (unit-тестів), які гарантують, що зовнішня поведінка коду залишиться незмінною. Якщо тести успішно пройдені, можна переходити до внесення змін і повторного тестування для перевірки коректності. При цьому рекомендується використовувати автоматизовані інструменти IDE для безпечного застосування обраних методів (наприклад, для Remove Assignments to Parameters).

Такий поетапний підхід дозволяє виконувати рефакторинг інкрементально та без ризику порушення функціональності. 
 
Інструменти для рефакторингу коду 
Для 	ефективного 	виконання 	рефакторингу 	використовуються 	спеціальні 	програмні інструменти: 
ー IntelliJ IDEA / Eclipse (IDE) - автоматичне перейменування методів, виділення частини коду у функції, створення констант; 
ー CodeScene - нструмент для візуалізації еволюції коду. Допомагає визначити "вузькі місця", тобто ті методи та класи, які змінюються найчастіше і є найскладнішими, тим самим вказуючи, де рефакторинг принесе найбільшу користь ; 
ー SonarQube - виявлення ділянок із дублюванням логіки або надмірною складністю; ー 
 
Використання цих інструментів допомагає автоматизувати більшість кроків і зменшує ризик людських помилок. 
 
4 Висновки 
У ході виконання практичної роботи було поетапно розглянуто основні методи рефакторингу коду програмного забезпечення та їх практичне застосування на мові Java. Під час дослідження було проаналізовано та застосовано три ключові методи: Split Temporary Variable, Remove Assignments to Parameters та Replace Method with Method Object. Ці методи дозволили підвищити якість, надійність та підтримуваність програмного коду. На практичних прикладах було продемонстровано, як рефакторинг допомагає усунути структурні недоліки: усунення двозначності через перевикористання змінних (Split Temporary Variable), захист цілісності вхідних даних через заборону зміни параметрів (Remove Assignments to Parameters) та спрощення надто складних методів шляхом винесення логіки в об'єкт (Replace Method with Method Object). Особливу увагу було приділено аналізу вихідного коду, вибору оптимального методу зміни та верифікації збереження функціональності після внесення змін за допомогою тестування. Також було розглянуто сучасні інструменти, такі як IntelliJ IDEA, SonarQube та CodeScene, які автоматизують виявлення складних фрагментів коду та спрощують виконання самого рефакторингу, забезпечуючи безпеку всього процесу. 






5 Використані джерела 
1.	Fowler M. Refactoring: Improving the Design of Existing Code  Addison-Wesley, 2018.; 
2.	IntelliJ IDEA Documentation on Refactoring. JetBrains, 2024; 
3.	SonarQube. Code Quality and Security Analysis Tool, 2024.
4.	 CodeScene. Behavioral Code Analysis Platform, 2023.
5.	Bloch J. Effective Java (Третє видання). Addison-Wesley, 2018.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 








 
 
Додаток А 
Посилання на відео в YouTube 
 
Відеозапис доповіді:  https://youtu.be/tSrtcfcXMv4







































Додаток Б 
 
Сторінка Б1. Титульна сторінка
 
Сторінка Б2. Вступ
 
 
 
Рисунок Б.3 - Сторінка методу « Split Temporary Variable» 
 
 
Рисунок Б.4 - Сторінка методу «Remove Assignments to Parameters» 
 
 
Рисунок Б.5 - Сторінка методу « Replace Method with Method Object»
 
 
Рисунок Б.6 - Сторінка прикладу комплексного рефакторингу 

 
Рисунок Б.7 - Сторінка покрокової демонстрації процесу
 
Рисунок Б.8 - Сторінка інструментів для рефакторингу коду 
 
 
 
Рисунок Б.9 - Висновки

 
Рисунок Б.10 - Сторінка використаних джерел 

